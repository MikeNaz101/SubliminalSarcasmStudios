<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FP/TD Bugs | Subliminal Sarcasm</title>
    <link rel="icon" type="image/png" href="images/subliminal-sarcasm-logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- GLOBAL VARIABLES (Matches Homepage) --- */
        :root {
            --primary-color: #00FFFF;
            --accent-color: #98fb98;
            --bg-dark: #0c1a1a;
            --bg-section-alt: #111a1a;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; padding: 0; margin: 0; }

        /* --- NAVIGATION BAR (STRICT GRID) --- */
        nav {
            display: grid;
            /* 1. Logo (Auto) | 2. Text (Rest of space) | 3. Menu (Auto) */
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 20px; /* Physical gap between elements */

            padding: 10px 40px; 
            background: rgba(12, 26, 26, 0.95); 
            position: fixed;
            top: 0; width: 100%; z-index: 1000;
            border-bottom: 1px solid #3d6a3d;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
        }

        /* --- SCROLLING TEXT CONTAINER (THE WINDOW) --- */
        .scrolling-container {
            position: relative;
            height: 60px;
            display: flex;
            align-items: center;
            overflow: hidden; 
            
            /* CRITICAL: Forces container to respect the Grid width */
            min-width: 0; 
            
            /* FADE ZONES: Fades the edges (30px) so text appears letter-by-letter */
            mask-image: linear-gradient(to right, transparent, black 30px, black calc(100% - 30px), transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 30px, black calc(100% - 30px), transparent);
        }

        /* --- SCROLLING WRAPPER (THE MOVING PART) --- */
        .scrolling-wrapper {
            display: flex;
            align-items: center;
            /* The Seamless Loop Animation */
            animation: scroll-seamless 20s linear infinite;
        }

        .scrolling-text {
            white-space: nowrap;
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            font-size: 1.5rem;
            color: var(--primary-color);
            text-transform: uppercase;
            letter-spacing: 4px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
            
            /* Adds spacing between the repeating titles */
            padding-right: 80px; 
        }

        /* --- FANCY LETTER STYLING --- */
        .fancy-cap {
            font-family: 'Cinzel', serif; 
            font-size: 2.5rem;            
            font-weight: 700;
            color: var(--accent-color);   
            vertical-align: baseline;     
            margin-right: 1px;
        }

        /* --- ANIMATION LOGIC (SEAMLESS LOOP) --- */
        @keyframes scroll-seamless {
            0% { 
                transform: translateX(0); 
            }
            100% { 
                /* Move exactly 25% left (the width of 1 of our 4 copies) */
                /* This creates the illusion of infinite scrolling */
                transform: translateX(-25%); 
            }
        }
        
        /* Logo and Eye Overlay */
        .logo-container {
            position: relative; 
            height: 60px; width: auto;
            display: flex; align-items: center;
        }
        .logo-img { height: 100%; width: auto; display: block; }
        
        .logo-eye-socket {
            position: absolute;
            top: 32%; left: 58%;
            width: 12px; height: 12px;
            transform: translate(-50%, -50%);
            background-color: rgb(255, 255, 255);
            border: 1px solid rgba(0, 0, 0, 0.8);
            border-radius: 50%;
            overflow: hidden;
            z-index: 10;
        }
        .iris-small {
            width: 8px; height: 8px;
            background-color: #ffd700; 
            border-radius: 50%;
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
        }
        .pupil-small {
            width: 4px; height: 4px;
            background-color: black;
            border-radius: 50%;
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
        }

        /* --- COLUMNS --- */
        .nav-brand {
            display: flex;
            align-items: center;
            flex-shrink: 0; /* Prevents logo from shrinking */
        }
        /* --- NAV LINKS --- */
        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
            justify-content: flex-end;
            flex-shrink: 0; /* Prevents menu from shrinking */
            position: relative; 
            z-index: 20;
        }
        .nav-links a { font-weight: 700; font-size: 0.9rem; text-transform: uppercase; color: var(--text-main); }
        .nav-links a:hover { color: var(--primary-color); text-shadow: 0 0 10px var(--primary-color); }
        .back-link { color: var(--text-muted) !important; font-size: 0.8rem !important; }
        .cta-button {
            background: transparent;
            border: 2px solid var(--primary-color);
            padding: 8px 20px;
            border-radius: 4px;
            color: var(--primary-color) !important;
            font-weight: bold;
        }
        .cta-button:hover { background: var(--primary-color); color: #0c1a1a !important; }

        /* --- GAME HERO SECTION --- */
        header.game-hero {
            height: 80vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-top: 60px;
            /* PLACEHOLDER: Set your main game image here */
            background: linear-gradient(to bottom, rgba(12,26,26,0.3), var(--bg-dark)), url('images/bugs_concept.jpg'); 
            background-size: cover;
            background-position: center;
        }

        .game-hero-content {
            z-index: 2;
            max-width: 900px;
            padding: 20px;
        }

        .game-title {
            font-size: 4.5rem;
            font-weight: 900;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 0 0 20px rgba(0,0,0,0.9);
            margin: 0;
            line-height: 1.1;
        }

        .game-tagline {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin: 20px 0 40px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            font-weight: 700;
        }

        .play-btn-large {
            padding: 20px 50px;
            background-color: var(--primary-color);
            color: #0c1a1a;
            font-size: 1.5rem;
            font-weight: 900;
            border-radius: 4px;
            text-transform: uppercase;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
            display: inline-block;
        }
        .play-btn-large:hover { background-color: #fff; transform: scale(1.05); }

        /* --- STATS BAR --- */
        .stats-bar {
            background-color: #050a0a;
            border-bottom: 1px solid #3d6a3d;
            padding: 20px 0;
            display: flex;
            justify-content: center;
            gap: 60px;
            flex-wrap: wrap;
        }
        .stat-item { text-align: center; }
        .stat-label { display: block; font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 1.2rem; font-weight: 700; color: #fff; }

        /* --- CONTENT SECTIONS --- */
        section { padding: 80px 20px; max-width: 1100px; margin: 0 auto; }
        
        .alt-bg { 
            background-color: var(--bg-section-alt); 
            width: 100%; 
            max-width: 100%; 
            display: flex; justify-content: center;
        }
        .alt-bg-inner { max-width: 1100px; width: 100%; padding: 80px 20px; }

        h2 {
            font-size: 2.5rem;
            color: #fff;
            border-left: 5px solid var(--primary-color);
            padding-left: 20px;
            margin-bottom: 40px;
        }

        p { line-height: 1.8; font-size: 1.1rem; color: var(--text-muted); margin-bottom: 20px; }

        /* --- FEATURES GRID --- */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .feature-card {
            background: rgba(255,255,255,0.03);
            padding: 30px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .feature-card h3 { color: var(--accent-color); margin-top: 0; font-size: 1.3rem; }
        .feature-card p { font-size: 0.95rem; margin-bottom: 0; }

        /* --- GALLERY --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .gallery-item {
            width: 100%;
            height: 250px;
            background-color: #000;
            border-radius: 5px;
            overflow: hidden;
            border: 1px solid #3d6a3d;
            transition: transform 0.3s;
        }
        .gallery-item:hover { transform: scale(1.02); border-color: var(--primary-color); }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; }

        /* --- TEAM LIST --- */
        .team-list {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        .team-member {
            flex: 1 1 200px;
            background: #0c1a1a;
            padding: 20px;
            border-left: 2px solid var(--accent-color);
        }
        .team-role { display: block; font-size: 0.85rem; color: var(--text-muted); text-transform: uppercase; margin-bottom: 5px; }
        .team-name { font-size: 1.2rem; font-weight: 700; color: #fff; }

        /* --- FOOTER --- */
        footer {
            background-color: #050a0a;
            padding: 40px;
            text-align: center;
            border-top: 1px solid #3d6a3d;
            margin-top: 0;
        }
        footer p { color: var(--text-muted); font-size: 0.9rem; }
    </style>
</head>
<body>

    <nav>
        <div class="nav-brand">
            <div class="logo-container">
                <img src="images/subliminal-sarcasm-logo.png" alt="Subliminal Sarcasm Studios" class="logo-img">
                <div class="logo-eye-socket" id="eye">
                    <div class="iris-small" id="iris"></div> 
                    <div class="pupil-small" id="pupil"></div>
                </div>
            </div>
        </div>
        <div class="scrolling-container">
            <div class="scrolling-wrapper">
                <span class="scrolling-text">
                    <span class="fancy-cap">S</span>UBLIMINAL 
                    <span class="fancy-cap">S</span>ARCASM 
                    <span class="fancy-cap">S</span>TUDIOS
                </span>
                <span class="scrolling-text">
                    <span class="fancy-cap">S</span>UBLIMINAL 
                    <span class="fancy-cap">S</span>ARCASM 
                    <span class="fancy-cap">S</span>TUDIOS
                </span>
                <span class="scrolling-text">
                    <span class="fancy-cap">S</span>UBLIMINAL 
                    <span class="fancy-cap">S</span>ARCASM 
                    <span class="fancy-cap">S</span>TUDIOS
                </span>
                <span class="scrolling-text">
                    <span class="fancy-cap">S</span>UBLIMINAL 
                    <span class="fancy-cap">S</span>ARCASM 
                    <span class="fancy-cap">S</span>TUDIOS
                </span>
            </div>
        </div>
        <div class="nav-links">
            <a href="index.html" class="back-link">← Back to Home</a>
            <a href="index.html">Games</a>
            <a href="about.html">About</a>
            <a href="#play-now" class="cta-button" onclick="trackPlay()">Play Demo</a>
        </div>
    </nav>

    <header class="game-hero">
        <div class="game-hero-content">
            <h1 class="game-title">FP/TD BUGS</h1>
            <p class="game-tagline">A high-octane hybrid of fast-paced FPS and strategic tower defense.</p>
            <a href="#play-now" class="play-btn-large">Download Alpha</a>
        </div>
    </header>

    <div class="stats-bar">
        <div class="stat-item">
            <span class="stat-label">Genre</span>
            <div class="stat-value">FPS / Tower Defense</div>
        </div>
        <div class="stat-item">
            <span class="stat-label">Engine</span>
            <div class="stat-value">Unity</div>
        </div>
        <div class="stat-item">
            <span class="stat-label">Status</span>
            <div class="stat-value" style="color: var(--primary-color);">Active Development</div>
        </div>
    </div>

    <section id="overview">
        <h2>About The Game</h2>
        <p>
            FP/TD Bugs throws you into a claustrophobic alien swarm. You must defend your core against waves of enemies using an arsenal of weaponry while dynamically constructing and upgrading defensive towers on the fly. Success requires both twitch-reflex gunplay and quick, strategic resource management.
        </p>
        <p>
            Will you use your limited resources (Scrap) for that crucial tower upgrade, or save it to buy a more powerful weapon? Your choices determine the fate of the Core.
        </p>
    </section>

    <div class="alt-bg">
        <div class="alt-bg-inner">
            <h2>Core Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Dynamic Player Controller</h3>
                    <p>Fast, responsive, Doom-inspired movement for high-speed engagement.</p>
                </div>
                <div class="feature-card">
                    <h3>Grid-less Tower Building</h3>
                    <p>Build and upgrade defensive towers anywhere on the map using collected 'Scrap'.</p>
                </div>
                <div class="feature-card">
                    <h3>Advanced Enemy AI</h3>
                    <p>NavMesh-based AI with target prioritization (Player, Core, Doors) and environmental awareness.</p>
                </div>
                <div class="feature-card">
                    <h3>Adaptive Difficulty Director</h3>
                    <p>An 'AI Director' monitors player accuracy and performance, adjusting enemy aggression and behavior in real-time.</p>
                </div>
                <div class="feature-card">
                    <h3>Complex Weapon System</h3>
                    <p>Hitscan weapon controller complete with recoil, aiming down sights (ADS), and damage drop-off.</p>
                </div>
                <div class="feature-card">
                    <h3>Enemy Behavior</h3>
                    <p>Enemies react to player-made sounds (gunshots) and use a Field of View component to acquire targets.</p>
                </div>
            </div>
        </div>
    </div>

    <section id="media">
        <h2>Media Gallery</h2>
        <div class="gallery-grid">
            <a href="images/bugs_concept_1_full.png" class="gallery-item" target="_blank">
                <img src="images/bugs_concept_1_small.png" alt="FP/TD Gameplay Screenshot" onerror="this.src='https://placehold.co/400x250/1a2a1a/FFF?text=Gameplay+Shot+1'">
            </a>
            <a href="images/bugs_concept_2_full.png" class="gallery-item" target="_blank">
                <img src="images/bugs_concept_2_small.png" alt="FP/TD Tower Defense Mode" onerror="this.src='https://placehold.co/400x250/1a2a1a/FFF?text=Tower+Mode'">
            </a>
            <a href="images/bugs_concept_3_full.png" class="gallery-item" target="_blank">
                <img src="images/bugs_concept_3_small.png" alt="FP/TD Concept Art" onerror="this.src='https://placehold.co/400x250/1a2a1a/FFF?text=Concept+Art'">
            </a>
            <a href="images/bugs_concept_4_full.png" class="gallery-item" target="_blank">
                <img src="images/bugs_concept_4_small.png" alt="FP/TD Weapon System" onerror="this.src='https://placehold.co/400x250/1a2a1a/FFF?text=Weapon+System'">
            </a>
        </div>
    </section>
    
    <section id="roadmap">
        <h2>What's Next (Roadmap)</h2>
        <p>The team is currently focused on:</p>
        <ul style="color: var(--text-main); font-size: 1.1rem; padding-left: 20px; line-height: 1.5;">
            <li>Expanding the arsenal with new weapons and tower types.</li>
            <li>Designing more complex enemy types (like the 'Spawner' Queen).</li>
            <li>Building and balancing a full set of levels.</li>
            <li>Creating the final 3D models and sound design.</li>
        </ul>
    </section>


    <div class="alt-bg">
        <div class="alt-bg-inner">
            <h2>Development Team</h2>
            <div class="team-list">
                <div class="team-member">
                    <span class="team-role">Lead Developer & Programmer</span>
                    <div class="team-name">Mike Nasierowski</div>
                </div>
                <div class="team-member">
                    <span class="team-role">Project Lead & Level Designer</span>
                    <div class="team-name">Vinny Verda</div>
                </div>
                <div class="team-member">
                    <span class="team-role">Project Manager & Ass't Programmer</span>
                    <div class="team-name">Jason Scott</div>
                </div>
                <div class="team-member">
                    <span class="team-role">QA & Gameplay Balancing</span>
                    <div class="team-name">Derek?</div>
                </div>
            </div>
        </div>
    </div>
    
    <section id="play-now" style="text-align: center; background-color: var(--bg-dark); padding-top: 40px; padding-bottom: 60px;">
        <h2 style="border: none; margin-bottom: 30px;">Play Online</h2>
        
        <div class="game-wrapper" style="display: flex; justify-content: center; padding: 0 20px;">
            <div class="game-container" style="
                position: relative; 
                width: 960px; 
                height: 600px; 
                max-width: 100%; 
                aspect-ratio: 16/9;
                background: #000; 
                border: 3px solid var(--primary-color); 
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.15);
                border-radius: 4px;
                overflow: hidden;
            ">
                <iframe 
                    src="https://unity-td-fps-game-builds.s3.amazonaws.com/unity-fps-td-game/index.html" 
                    style="width: 100%; height: 100%; border: none; display: block;"
                    title="FP/TD Bugs WebGL"
                    allow="autoplay; fullscreen; xr-spatial-tracking; payment; camera; microphone"
                    scrolling="no"
                ></iframe>
            </div>
        </div>
        <div style="margin-top: 25px;">
            <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px;">
                <span style="color: var(--primary-color); font-weight: bold;">CONTROLS:</span> WASD to Move • Mouse to Aim • Click to Capture Cursor • ESC to Release
            </p>
            
            <p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 10px;">Prefer better performance?</p>
            <a href="#download-link" class="cta-button">Download Standalone Alpha</a>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 Subliminal Sarcasm Studios. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('mousemove', function(e) {
            const pupil = document.getElementById('pupil');
            const iris = document.getElementById('iris'); 
            const eye = document.getElementById('eye');

            if (!pupil || !iris || !eye) return;

            const eyeRect = eye.getBoundingClientRect();
            const eyeCenterX = eyeRect.left + eyeRect.width / 2;
            const eyeCenterY = eyeRect.top + eyeRect.height / 2;

            const mouseX = e.clientX;
            const mouseY = e.clientY;

            const angleRad = Math.atan2(mouseY - eyeCenterY, mouseX - eyeCenterX);
            
            // Scaled down movement for the small eye
            const maxDistancePupil = 2.5; 
            const maxDistanceIris = 1.5;  

            const translateXPupil = Math.cos(angleRad) * maxDistancePupil;
            const translateYPupil = Math.sin(angleRad) * maxDistancePupil;
            const translateXIris = Math.cos(angleRad) * maxDistanceIris;
            const translateYIris = Math.sin(angleRad) * maxDistanceIris;

            pupil.style.transform = `translate(-50%, -50%) translate(${translateXPupil}px, ${translateYPupil}px)`;
            iris.style.transform = `translate(-50%, -50%) translate(${translateXIris}px, ${translateYIris}px)`;
        });
    </script>

    <script>
        // --- STATS TRACKING ---
        const SERVER_URL = "https://subliminal-backend.onrender.com";

        // 1. Track Page View (Runs immediately)
        fetch(`${SERVER_URL}/track`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ gameName: 'FPS_TD_BUG_Game', type: 'view' })
        }).catch(err => console.log("Tracking Error:", err));

        // 2. Track Play Click (Attach this to your buttons)
        window.trackPlay = function() {
            fetch(`${SERVER_URL}/track`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ gameName: 'FPS_TD_BUG_Game', type: 'play' })
            }).catch(err => console.log("Tracking Error:", err));
        }
    </script>
</body>
</html>